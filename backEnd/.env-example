# ---- Runtime ----
NODE_ENV=development
PORT=3000
# 前端开发地址（vite 默认 5173）
FRONTEND_URL=http://localhost:5173
# 会话密钥（请替换为更强随机值）
SESSION_SECRET=

# ---- Google OAuth ----
# 在 Google Cloud Console 创建 OAuth 2.0 Client，并填入以下三项
GOOGLE_CLIENT_ID=
# 回调必须与后端路由一致（auth.js 使用 /api/auth/google/callback）
GOOGLE_REDIRECT_URI=

# ---- Per-user daily quota ----
# 每个用户每天最大分析的邮件数量
DAILY_ANALYZE_LIMIT=500

# ---- Pipeline & Concurrency ----
# 每批次分析的邮件数量
ANALYZE_BATCH_SIZE=10
# Gmail 抓取并发（较高）
GMAIL_MAX_CONCURRENCY=6
# 模型分析并发（较低，避免 429）
AI_MAX_CONCURRENCY=3
# 批次之间暂停（毫秒）
BATCH_PAUSE_MS=800

# ---- Model Provider ----
# 可选：groq | openrouter | openai | ollama
AI_PROVIDER=groq
# 你的 API Key（如果留空，则会启用启发式提取）
AI_API_KEY=YOUR_AI_API_KEY
# 模型名称示例（groq）
AI_MODEL=llama-3.1-8b-instant
# 某些提供方需要 endpoint（如 openrouter 或自建）
AI_ENDPOINT=

# ---- Rate & Retry ----
# 最小调用间隔（初始值，毫秒）
AI_MIN_INTERVAL_MS=600
# 间隔下限/上限（自适应控制使用）
AI_MIN_INTERVAL_MIN_MS=500
AI_MIN_INTERVAL_MAX_MS=2000
# 最大重试次数与基础退避时间（毫秒）
AI_RETRY_MAX=3
AI_RETRY_BASE_MS=500